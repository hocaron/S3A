# 도메인 주도 설계 첫 걸음

  ## Part 1 전략적 설계
  ### 도메인 주도 설계 방법론은 크게 전략적 설계와 전술적 설계로 나눌 수 있다.
  - 전략적 설계는 우리가 어떤 소프트웨어를 만드는 지, 왜 그 소프트웨어를 만드는 지에 대한 해답을 찾는 것이다. (’무엇?’과 ‘왜?’라는 질문에 대한 정답을 찾는 것)
  - 전술적 측면은 소프트웨어 각각의 구성요소가 구현되는 방법을 찾는 것이다.(‘어떻게?’라는 방법에 대한 정답을 찾는 것)
  ## 01. 비즈니스 도메인 분석하기
  ### 비즈니스 도메인이란?
  - 기업의 주요 활동 영역을 정의한다. 회사가 고객에게 제공하는 서비스를 말한다.
  ### 하위 도메인이란?
  - 기업의 비즈니스 도메인의 목표를 달성하기 위해 비즈니스 활동의 세분화된 영역으로 여러 가지 하위 도메인을 운영해야 한다.
  - 하위 도메인은 **핵심 하위 도메인, 일반 하위 도메인, 지원 하위 도메인으로** 구분한다.
  ### 핵심 하위 도메인
  - 회사가 경쟁 업체와 다르게 수행하고 있는 것.
  - 구현하기 쉬운 핵심 하위 도메인은 일시적으로 경쟁 우위를 제공한다.
    - 자연스레 핵심 하위 도메인은 복잡해진다.
    - 회사의 핵심 비즈니스는 높은 진입장벽이 있어야 한다.
    - 경쟁사가 회사의 솔루션을 모방하고 복제하는 게 어려워야 한다.
  - 반드시 기술적인 것은 아니다.
  ### 일반 하위 도메인
  - 모든 회사가 같은 방식으로 수행하는 비즈니스 활동
  - 핵심 하위 도메인과 마찬가지로 일반적으로 복잡하고 구현하기 어렵다.
    - but, 일반 하위 도메인은 회사에 경쟁력을 제공하지 않는다.
    - 이미 검증된 솔루션들이 많다. 그냥 그거 쓰자. 다들 쓴다.
  ### 지원 하위 도메인
  - 회사의 비즈니스를 지원하는 활동
  - 비즈니스 로직이 간단하다.
    - ETL, CRUD 등의 작업 등이 해당되고, 이러한 활동 영역은 회사에게 어떠한 경쟁 우위도 가져다 주지 않으므로 높은 진입장벽이 필요하지 않다.
  ### 하위 도메인 비교
  - 경쟁우위
    - 핵심 하위 도메인만이 회사에 경쟁 우위를 제공.
  - 복잡성
    - 핵심 하위 도메인 > 일반 하위 도메인 > 지원 하위 도메인
  - 변동성
    - 핵심 하위 도메인은 자주 변경된다.
    - 일반 하위 도메인과 지원 하위 도메인은 자주 변경되지 않는 편이다.
  - 솔루션 전략
    - 핵심 하위 도메인은 사내에서 구현이 되어야 한다. 또한, 변동성으로 인해 가장 진보된 엔지니어링 기술로 구현되어야 한다.
    - 일반 하위 도메인을 구현하기 위해 시간과 노력을 투자하는 것보다는 이미 만들어진 제품을 구입하거나, 오픈소스 솔루션을 채택하는 것이 비용 면에서 더 효율적이다.
    - 지원 하위 도메인은 사내에서 구현하지 않는 것이 합리적이지만, 지원 하위 도메인은 기존에 만들어진 솔루션이 없는 경우가 있다. 이런 경우에는 정교한 디자인 패턴이나 고급 엔지니어링 기술이 필요 없기 때문에 새로운 인재를 양성할 수 있는 좋은 연습 기회를 제공한다. 하청을 맡겨도 된다.
  ### 하위 도메인 경계 식별
  - 하위 도메인과 해당 유형을 식별하면 소프트웨어 솔루션을 구축할 때 설계와 관련된 의사 결정에 상당한 도움이 된다.
  ### 하위 도메인 정제
  - 크게 나눈 하위 도메인은 좋은 출발점이지만, 문제는 세부 사항에 있다. 비즈니스 기능의 복잡한 내용에 숨겨진 정보를 놓치지 않아야 한다.
  - but, 세부적인 통찰력을 얻기 위해 무한정 파헤칠 수는 없다. 언제 멈춰야 할까~?
  ### 응집된 유스케이스를 하위 도메인으로
  - 세분화된 하위 도메인을 찾는 것을 중단하는 시점을 결정하기 위한 지침으로 **응집된 유스케이스의 집합인 하위 도메인**이라는 정의를 사용할 수 있다.
  - 더 자세히 살펴봐도 소프트웨어 설계와 관련된 의사결정을 내리는 데 도움이 될 수 있는 새로운 통찰력이 나오지 않는다면 중단하자.
  ### 핵심에 집중
  - 하위 도메인을 찾을 때 소프트웨어와 관련되지 않은 비즈니스 기능을 식별하고, 그 자체로 인정하며, 작업 중인 소프트웨어 시스템과 관련된 비즈니스에 집중하자.
  
  ## 02. 도메인 지식 찾아내기
  ### 도메인 지식 찾아내기
  - 효과적인 SW 솔루션을 설계하려면 적어도 기본적인 비즈니스 도메인 지식이 있어야 한다.
    - 이러한 지식은 도메인 전문가의 몫이다.
    - but, 효과적인 SW 솔루션을 설계하려면 도메인 전문가를 이해하고 그들이 쓰는 동일한 비즈니스 용어를 사용하는 것이 중요하다.
  - SW 프로젝트의 성공은 도메인 전문가와 SW 엔지니어 간의 효과적인 지식공유에 달려있다.
    - 도메인 전문가와 SW 엔지니어간의 효과적인 커뮤니케이션이 필요하다.
  ### 커뮤니케이션
  - 프로젝트와 연관된 모든 것에 대한 합의와 일치는 프로젝트 성공에 필수다.
  - 전형적인 SW 개발 생애주기에서 도메인 지식은 엔지니어 친화적인 형태로 변환된다.
    - 모든 변환은 정보를 잃게 만든다.
    - 도메인 지식은 종종 왜곡된 상태로 전달된다.
    - 그럼 어떻게 하는 게 좋을까~?
  ### 유비쿼터스 언어란 무엇인가?
  - 도메인 주도 설계에서 도메인 지식을 계속해서 변환하는 대신, 비즈니스 도메인을 설명하기 위한 단일화된 언어 체계를 세우고자 하는데, 이것이 바로 유비쿼터스 언어다.
    - 도메인 전문가가 유비쿼터스 언어를 사용해 비즈니스 도메인을 추론하는 데 편안함을 느껴야 한다는 점이 제일 중요하다.
  ### 비즈니스 언어
  - 유비쿼터스 언어는 비즈니스 언어이기 때문에 기술 용어는 빼고 비즈니스 도메인에 관련된 용어로만 구성해야 한다.
  - 도메인 전문가의 이해와 비즈니스 도메인에 대한 멘탈 모델을 쉽게 이해할 수 있는 관점으로 표현하는 것을 목표로 한다.
  ### 유비쿼터스 언어에서 주의할 점
  - 유비쿼터스 언어는 반드시 정확하고 일관성 있어야 한다. 비즈니스 도메인의 로직을 명료하게 표현해야 한다.
  - 유비쿼터스 언어의 용어는 오직 하나의 의미를 지녀야 한다.
  - 모호한 용어는 사용하지 말자.
  - 동의어는 사용하지 말자.
    - 사용자 (미등록 사용자 + 등록된 사용자)
  ### 효과적인 모델링
  - 효과적인 모델은 그 목적을 달성하는 데 필요한 세부사항만 포함한다.
    - 세계 지도, 지하철 노선도 등 특정 목적을 지원하는 데 충분한 자료만을 담고 있다.
  - 모델은 추상화의 결과다.
    - 추상화 개념은 불필요한 상세 정보는 생략하여 복잡한 문제를 다룰 수 있게 하고 당면한 문제를 푸는 데 필요한 정보만 남게 한다.
  ### 비즈니스 도메인 모델링
  - 유비쿼터스 언어는 도메인의 모든 가능한 상세 정보를 포함하는 것이 아니다.
    - SW가 해결하고자 하는 특정 문제를 해결하는 데 필요한 만큼의 비즈니스 도메인 관점을 포함하면 된다.
  - 비즈니스 도메인이 복잡할수록 커뮤니케이션의 중요성은 커진다.
  - 도메인 전문가와의 상호작용만이 비즈니스 도메인에 대한 부정확함이나 잘못된 가정, 전체적인 이해 오류를 발견할 수 있다.
  ### 도구
  - 유비쿼터스 언어를 수집하고 관리하는 용어집을 사용해보자.
    - 새로운 팀원이 한 눈에 보기 쉬움
    - 다 같이 유지보수하자.
    - 명사에 효과적
  - 행동을 포착하기 위해서는 용어집을 유스케이스 or 거킨 테스트처럼 행동을 포착하는 데 적합한 다른 도구와 함께 사용하는 것이 좋다.
