# 8장 카프카 스트림즈 API

## 8.1 스트림 프로세싱 기초
- 스트림 vs 배치
    - 스트림 : 실시간으로 건바이건 처리 -> 데이터의 실시간성이 중요한 경우 (모빌리티)
    - 배치: 한번에 모아서 처리 -> 데이터를 모았다가 특정 시간에 무엇을 해야하는 경우 (ex. 파일 전송)
    - 현재 시스템 아키텍처는 주로 스트림 처리와 배치 처리 시스템을 동시에 활용 중
    - 이벤트 발생 -> (변환, 집계 등등) -> 저장
    - SoT에서 다양한 도메인 모델링하는데 잘 쓸 수 있을듯
- 상태기반 vs 무상태기반
    - 상태기반 : 이벤트를 처리하기 위해 이전 이벤트에 대해 종속성이 있을 경우 (Ex. 빈도수 세기)
    - 스트림 애플리케이션이 상태 관리 -> 내부 상태 저장소, 디비같은거 쓰면 외부 상태 저장소
    - 무상태기반: 종속성이 없는 경우 (ex. 문자열 자르기)

## 8.2 카프카 스트림즈
- 카프카 스트림즈는 클라이언트 라이브러리 -> 카프카가 아님
    - 카프카에 대한 의존성 없음
    - 한번에 하나의 레코드만 처리, 한번만 처리 보장
    - 클라이언트 API 활용해서 DSL 작성 가능 -> 자바 Collection Stream API랑 비슷
    - 저수준 프로세싱 API 도 제공 (8장에서 다루진 않음)
- 소스 프로세서, 스트림 프로세서, 싱크 프로세서로 구성
    - 소스 프로세서는 토픽에서 데이터를 읽고, 싱크는 특정 토픽에 데이터를 저장
- 입력 스트림(카프카 토픽)의 파티션 개수만큼 태스크 생성
    - 한개의 스레드는 n개의 태스크를 실행 가능
    - 스트림즈 애플리케이션 여러개 띄워서(혹은 스레드) 병렬처리 가능하다.

## 8.3 카프카 스트림즈를 위한 환경설정
- 카프카 쪽에서 스트림즈 연동하기 위해서는 버전이 1.0 이상이면 별도 세팅 필요없음
- 카프카 스트림 애플리케이션은 그레이들 프로젝트로 띄우면 끝
- hello world 할때 쓰던 main 함수 있는 애플리케이션...

## 8.5~6 예제 프로그램
- 스크린샷으로 설명